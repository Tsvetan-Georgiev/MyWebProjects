<html>
<head>
	<meta charset="UTF-8">
	<title>Homework 6-6</title>
	<link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
	Sort by:
	<select id="sort">
		<option value="age">Age</option>
		<option value="firstName">First name</option>
		<option value="lastName">Last name</option>
	</select>
	<button onclick="onButtonClicked()" style="margin-left:1%">Result</button>
	<div id="js-console" style="margin-left:1%;margin-top:1%"></div>
	<script src="scripts/js-console.js"></script>
	<script>
		function onButtonClicked(){
			var persons=[
			{fName:"Maria",lName:"Simova",age:"18"},
			{fName:"Georgi",lName:"Parvanov",age:"55"},
			{fName:"Slavi",lName:"Trifonov",age:"80"},
			{fName:"Barak",lName:"Obama",age:"52"},
			{fName:"Angela",lName:"Merkel",age:"29"}
			];
			function findYoungest(pers){
				var min=pers.slice(0);
					min.sort(function(a,b){
						return a.age-b.age
					});
					jsConsole.writeLine("Sorded by age: ")
					for (var i = 1; i < min.length+1; i++) {
						jsConsole.writeLine(i+" "+min[i-1].fName+" "+min[i-1].lName+" "+min[i-1].age+" years old.");
					};
					jsConsole.writeLine("");
			};
			function findLexicograFname(pers){
				var first=pers.slice(0);
					first.sort(function(a,b){
						var x=a.fName.substr(0,1).toLowerCase();
							y=b.fName.substr(0,1).toLowerCase();
						return x<y?-1:x>y ?1:0;
					})
					jsConsole.writeLine("Sorded by first name: ")
					for (var i = 1; i < first.length+1; i++) {
						jsConsole.writeLine(i+" "+first[i-1].fName+" "+first[i-1].lName+" "+first[i-1].age+" years old.");
					}
					jsConsole.writeLine("");
			}
			function findLexicograLname(pers){
				var last=pers.slice(0);
					last.sort(function(a,b){
						var x=a.lName.substr(0,1).toLowerCase();
							y=b.lName.substr(0,1).toLowerCase();
						return x<y?-1:x>y ?1:0;
					})
					jsConsole.writeLine("Sorded by last name: ")
					for (var i = 1; i < last.length+1; i++) {
						jsConsole.writeLine(i+" "+last[i-1].fName+" "+last[i-1].lName+" "+last[i-1].age+" years old.");
					}
					jsConsole.writeLine("");
			}
			function group(group,type){
				switch(type){
					case "age":findYoungest(group);break;
					case "firstName":findLexicograFname(group);break;
					case "lastName":findLexicograLname(group);break;
				}
			}
			var check=document.getElementById("sort").value;
			group(persons,check);
		}
	</script>
</body>
</html>
